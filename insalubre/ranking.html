<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ranking Completo - Insalubre Survivor</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 100%);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Header */
        .header {
            text-align: center;
            padding: 40px;
            background: linear-gradient(135deg, rgba(26, 26, 46, 0.9), rgba(10, 10, 10, 0.9));
            border-radius: 20px;
            margin-bottom: 30px;
            border: 2px solid #ff6b6b;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .title {
            font-size: 3.5rem;
            background: linear-gradient(90deg, #ff6b6b, #4ecdc4, #45b7d1);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 10px;
            text-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
        }

        .subtitle {
            color: #aaa;
            font-size: 1.2rem;
            margin-bottom: 30px;
        }

        /* Controls */
        .controls {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            padding: 25px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .search-section {
            flex: 1;
            min-width: 300px;
        }

        .search-box {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        input, select, button {
            padding: 12px 20px;
            border: 1px solid #333;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border-radius: 8px;
            font-size: 1rem;
        }

        input {
            flex: 1;
        }

        input:focus, select:focus {
            outline: none;
            border-color: #ff6b6b;
            box-shadow: 0 0 10px rgba(255, 107, 107, 0.3);
        }

        button {
            background: linear-gradient(135deg, #ff6b6b, #ff5252);
            border: none;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.4);
        }

        .filters {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .filter-group {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        /* Stats Overview */
        .stats-overview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            border-color: #ff6b6b;
        }

        .stat-value {
            font-size: 2.2rem;
            font-weight: bold;
            color: #4ecdc4;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #aaa;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Main Content */
        .main-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
        }

        @media (max-width: 1200px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

        /* Ranking Table */
        .ranking-section {
            background: rgba(26, 26, 46, 0.8);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .section-title {
            font-size: 1.5rem;
            color: #ff6b6b;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid rgba(255, 107, 107, 0.3);
        }

        .ranking-table {
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        thead {
            background: rgba(255, 107, 107, 0.1);
        }

        th {
            padding: 15px;
            text-align: left;
            color: #ff6b6b;
            font-weight: bold;
            border-bottom: 2px solid rgba(255, 107, 107, 0.3);
            white-space: nowrap;
        }

        tbody tr {
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            transition: background 0.3s;
            cursor: pointer;
        }

        tbody tr:hover {
            background: rgba(255, 107, 107, 0.1);
        }

        td {
            padding: 15px;
            vertical-align: middle;
        }

        /* Rank Column */
        .rank-cell {
            text-align: center;
            font-weight: bold;
            font-size: 1.2rem;
            width: 80px;
        }

        .rank-1 { color: #ffd700; }
        .rank-2 { color: #c0c0c0; }
        .rank-3 { color: #cd7f32; }

        /* Player Info */
        .player-info-cell {
            min-width: 200px;
        }

        .player-header {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .player-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.3rem;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .player-details {
            flex: 1;
        }

        .player-name {
            font-weight: bold;
            font-size: 1.1rem;
            color: white;
        }

        .player-class {
            font-size: 0.9rem;
            color: #4ecdc4;
            margin-top: 3px;
        }

        .player-alias {
            font-size: 0.85rem;
            color: #aaa;
            font-style: italic;
            margin-top: 2px;
        }

        /* Stat Columns */
        .stat-column {
            text-align: center;
            font-weight: bold;
            min-width: 100px;
        }

        .score-cell { color: #4ecdc4; }
        .bosses-cell { color: #45b7d1; }
        .events-cell { color: #96ceb4; }
        .deaths-cell { color: #ff6b6b; }
        .avls-cell { color: #ffd166; }
        .sanidade-cell { color: #a78bfa; }
        .taxa-vitoria-cell { color: #43e97b; }

        /* Player Details Sidebar */
        .details-sidebar {
            background: rgba(26, 26, 46, 0.8);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: sticky;
            top: 20px;
            height: fit-content;
        }

        .player-detail-card {
            text-align: center;
        }

        .detail-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            font-weight: bold;
            border: 3px solid #ff6b6b;
        }

        .detail-name {
            font-size: 1.5rem;
            color: white;
            margin-bottom: 5px;
        }

        .detail-class {
            color: #4ecdc4;
            font-size: 1.1rem;
            margin-bottom: 5px;
        }

        .detail-alias {
            color: #aaa;
            font-style: italic;
            margin-bottom: 25px;
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 25px;
        }

        .stat-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .stat-label-sm {
            color: #aaa;
            font-size: 0.8rem;
            margin-bottom: 5px;
        }

        .stat-value-sm {
            font-size: 1.3rem;
            font-weight: bold;
            color: white;
        }

        /* Progress Bars */
        .progress-section {
            margin-top: 25px;
        }

        .progress-item {
            margin-bottom: 15px;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            color: #aaa;
            font-size: 0.9rem;
        }

        .progress-bar {
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff6b6b, #ff5252);
            border-radius: 4px;
            transition: width 0.5s ease-out;
        }

        /* Equipment */
        .equipment-section {
            margin-top: 25px;
            padding-top: 25px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .equipment-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 15px;
        }

        .equipment-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 12px;
            border-radius: 8px;
            text-align: center;
        }

        .equipment-name {
            color: #fff;
            font-size: 0.9rem;
            margin-bottom: 5px;
        }

        .equipment-damage {
            color: #ff6b6b;
            font-size: 0.8rem;
        }

        /* Pagination */
        .pagination {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .page-btn {
            padding: 10px 15px;
            min-width: 40px;
            background: rgba(255, 255, 255, 0.05);
        }

        .page-btn.active {
            background: linear-gradient(135deg, #ff6b6b, #ff5252);
        }

        /* No Selection */
        .no-selection {
            text-align: center;
            padding: 60px 20px;
            color: #666;
            font-size: 1.1rem;
        }

        .no-selection-icon {
            font-size: 3rem;
            margin-bottom: 20px;
            opacity: 0.3;
        }

        /* Status Indicator */
        .status-indicator {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 5px;
        }

        .status-online { background: #43e97b; box-shadow: 0 0 10px #43e97b; }
        .status-offline { background: #666; }
        .status-ingame { 
            background: #4facfe;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header {
                padding: 20px;
            }
            
            .title {
                font-size: 2.2rem;
            }
            
            .controls {
                padding: 15px;
            }
            
            th, td {
                padding: 10px 5px;
                font-size: 0.9rem;
            }
            
            .player-avatar {
                width: 40px;
                height: 40px;
                font-size: 1.1rem;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Tooltip */
        [data-tooltip] {
            position: relative;
            cursor: help;
        }

        [data-tooltip]:hover::before {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 10px;
            border-radius: 5px;
            font-size: 0.8rem;
            white-space: nowrap;
            z-index: 1000;
            border: 1px solid #333;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1 class="title">üèÜ RANKING COMPLETO</h1>
            <p class="subtitle">Estat√≠sticas Detalhadas de Todos os Jogadores</p>
            
            <div class="stats-overview" id="stats-overview">
                <!-- Stats will be loaded here -->
            </div>
        </div>

        <!-- Controls -->
        <div class="controls">
            <div class="search-section">
                <div class="search-box">
                    <input type="text" 
                           id="search-input" 
                           placeholder="üîç Buscar jogador, classe ou apelido..."
                           oninput="searchPlayers()">
                    <button onclick="resetSearch()">üóëÔ∏è Limpar</button>
                </div>
                <div class="filters">
                    <div class="filter-group">
                        <select id="class-filter" onchange="filterByClass()">
                            <option value="all">Todas as Classes</option>
                            <!-- Classes will be loaded dynamically -->
                        </select>
                        <select id="sort-by" onchange="sortPlayers()">
                            <option value="score">Pontua√ß√£o (Alta)</option>
                            <option value="score-asc">Pontua√ß√£o (Baixa)</option>
                            <option value="bosses">Chefes (Alta)</option>
                            <option value="events">Eventos (Alta)</option>
                            <option value="deaths">Mortes (Baixa)</option>
                            <option value="avls">AVLs (Alta)</option>
                            <option value="winrate">Taxa Vit√≥ria (Alta)</option>
                        </select>
                    </div>
                </div>
            </div>
            <button onclick="refreshData()">
                üîÑ Atualizar Dados
            </button>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Ranking Table -->
            <div class="ranking-section">
                <h2 class="section-title">CLASSIFICA√á√ÉO GERAL</h2>
                <div class="ranking-table">
                    <table>
                        <thead>
                            <tr>
                                <th class="rank-cell">RANK</th>
                                <th class="player-info-cell">JOGADOR</th>
                                <th class="stat-column">PONTUA√á√ÉO</th>
                                <th class="stat-column">CHEFES</th>
                                <th class="stat-column">EVENTOS</th>
                                <th class="stat-column">MORTES</th>
                                <th class="stat-column">AVLs</th>
                                <th class="stat-column">SANIDADE</th>
                                <th class="stat-column">VIT√ìRIA</th>
                            </tr>
                        </thead>
                        <tbody id="ranking-body">
                            <!-- Players will be loaded here -->
                        </tbody>
                    </table>
                </div>
                
                <div class="pagination" id="pagination">
                    <!-- Pagination will be loaded here -->
                </div>
            </div>

            <!-- Player Details Sidebar -->
            <div class="details-sidebar">
                <h2 class="section-title">DETALHES DO JOGADOR</h2>
                <div id="player-details">
                    <div class="no-selection">
                        <div class="no-selection-icon">üë§</div>
                        <p>Selecione um jogador para ver detalhes</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ==================== DADOS COMPLETOS DOS JOGADORES ====================
        
        const playerClasses = [
            { id: "warrior", name: "Guerreiro", color: "#ff6b6b" },
            { id: "mage", name: "Mago", color: "#4ecdc4" },
            { id: "archer", name: "Arqueiro", color: "#45b7d1" },
            { id: "paladin", name: "Paladino", color: "#ffd166" },
            { id: "rogue", name: "Ladino", color: "#96ceb4" },
            { id: "berserker", name: "Berserker", color: "#ff5252" },
            { id: "necromancer", name: "Necromante", color: "#a78bfa" },
            { id: "knight", name: "Cavaleiro", color: "#667eea" },
            { id: "assassin", name: "Assassino", color: "#43e97b" },
            { id: "druid", name: "Druida", color: "#38f9d7" }
        ];

        const aliases = [
            "L√¢mina Sombria", "Senhor das Chamas", "Ca√ßador Noturno", "Guardi√£o Ancestral",
            "Voz do Abismo", "Andarilho Solit√°rio", "M√£o da Justi√ßa", "Olho da Tempestade",
            "Corvo S√°bio", "Lobo Prateado", "Filho do Trov√£o", "Herdeiro das Cinzas",
            "Portador da Luz", "Mestre das Sombras", "Arauto do Caos", "Defensor Perdido"
        ];

        const weapons = [
            "Espada Longa", "Cajado Arcano", "Arco Composto", "Martelo Sagrado",
            "Adagas G√™meas", "Machado de Batalha", "Foice da Morte", "Lan√ßa de Cavaleiro",
            "Katana", "Cajado da Natureza", "Claymore", "Bacamarte", "Pistola", "Machado Duplo"
        ];

        const statusTypes = [
            { id: "online", name: "Online", color: "#43e97b" },
            { id: "offline", name: "Offline", color: "#666" },
            { id: "ingame", name: "Em Jogo", color: "#4facfe" }
        ];

        // Gerar jogador com dados completos
        function generatePlayer(index) {
            const playerClass = playerClasses[Math.floor(Math.random() * playerClasses.length)];
            const status = statusTypes[Math.floor(Math.random() * statusTypes.length)];
            
            // Pontua√ß√£o base
            const baseScore = 5000 + Math.floor(Math.random() * 20000);
            
            // Dados principais
            const score = baseScore;
            const bosses = Math.floor(baseScore / 350 + Math.random() * 15);
            const events = Math.floor(baseScore / 80 + Math.random() * 50);
            const deaths = Math.max(1, Math.floor(30 * (1 - baseScore / 25000) + Math.random() * 15));
            const avls = Math.max(1, Math.floor(baseScore / 500 + Math.random() * 10));
            
            // Dados avan√ßados
            const sanidade = Math.floor(Math.random() * 100);
            const winRate = Math.floor(40 + Math.random() * 55);
            const playtime = Math.floor(50 + Math.random() * 300);
            const level = Math.floor(baseScore / 1000 + 1);
            
            // Equipamento
            const mainHand = weapons[Math.floor(Math.random() * weapons.length)];
            const offHand = Math.random() > 0.5 ? weapons[Math.floor(Math.random() * weapons.length)] : null;
            const armor = Math.random() > 0.3 ? "Armadura de Placas" : "T√∫nica Arcana";
            
            // Dano do equipamento (relacionado √† pontua√ß√£o)
            const mainHandDamage = Math.floor(baseScore / 1000 + 10 + Math.random() * 20);
            const offHandDamage = offHand ? Math.floor(baseScore / 1500 + 5 + Math.random() * 15) : 0;
            
            return {
                id: index,
                name: `Jogador_${String(index).padStart(3, '0')}`,
                class: playerClass,
                alias: aliases[Math.floor(Math.random() * aliases.length)],
                status: status,
                score: score,
                bosses: bosses,
                events: events,
                deaths: deaths,
                avls: avls,
                sanidade: sanidade,
                winRate: winRate,
                playtime: playtime,
                level: level,
                equipment: {
                    mainHand: {
                        name: mainHand,
                        damage: mainHandDamage
                    },
                    offHand: offHand ? {
                        name: offHand,
                        damage: offHandDamage
                    } : null,
                    armor: armor
                },
                stats: {
                    strength: Math.floor(10 + Math.random() * 20),
                    agility: Math.floor(10 + Math.random() * 20),
                    intelligence: Math.floor(10 + Math.random() * 20),
                    vitality: Math.floor(10 + Math.random() * 20)
                },
                achievements: Math.floor(Math.random() * 50),
                joinDate: new Date(Date.now() - Math.random() * 365 * 24 * 60 * 60 * 1000)
                    .toISOString().split('T')[0],
                lastActive: new Date(Date.now() - Math.random() * 7 * 24 * 60 * 60 * 1000)
                    .toISOString().split('T')[0]
            };
        }

        // Gerar lista de jogadores
        let allPlayers = [];
        for (let i = 1; i <= 100; i++) {
            allPlayers.push(generatePlayer(i));
        }

        // ==================== VARI√ÅVEIS GLOBAIS ====================
        let filteredPlayers = [...allPlayers];
        let currentPage = 1;
        let playersPerPage = 15;
        let currentSort = 'score';
        let currentClassFilter = 'all';
        let currentSearch = '';
        let selectedPlayer = null;

        // ==================== INICIALIZA√á√ÉO ====================
        document.addEventListener('DOMContentLoaded', function() {
            initializeClassFilter();
            updateStatsOverview();
            sortPlayers();
            renderTable();
        });

        // Inicializar filtro de classes
        function initializeClassFilter() {
            const classFilter = document.getElementById('class-filter');
            playerClasses.forEach(cls => {
                const option = document.createElement('option');
                option.value = cls.id;
                option.textContent = cls.name;
                classFilter.appendChild(option);
            });
        }

        // Atualizar estat√≠sticas gerais
        function updateStatsOverview() {
            const totalPlayers = allPlayers.length;
            const avgScore = Math.floor(allPlayers.reduce((sum, p) => sum + p.score, 0) / totalPlayers);
            const totalBosses = allPlayers.reduce((sum, p) => sum + p.bosses, 0);
            const totalEvents = allPlayers.reduce((sum, p) => sum + p.events, 0);
            const avgWinRate = Math.floor(allPlayers.reduce((sum, p) => sum + p.winRate, 0) / totalPlayers);
            const activePlayers = allPlayers.filter(p => p.status.id !== 'offline').length;

            const stats = [
                { value: formatNumber(totalPlayers), label: "Jogadores Totais" },
                { value: formatNumber(avgScore), label: "Pontua√ß√£o M√©dia" },
                { value: formatNumber(totalBosses), label: "Chefes Derrotados" },
                { value: formatNumber(totalEvents), label: "Eventos Completados" },
                { value: `${avgWinRate}%`, label: "Taxa de Vit√≥ria" },
                { value: activePlayers, label: "Jogadores Ativos" }
            ];

            const statsHTML = stats.map(stat => `
                <div class="stat-card">
                    <div class="stat-value">${stat.value}</div>
                    <div class="stat-label">${stat.label}</div>
                </div>
            `).join('');

            document.getElementById('stats-overview').innerHTML = statsHTML;
        }

        // Formatar n√∫meros
        function formatNumber(num) {
            return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
        }

        // Ordenar jogadores
        function sortPlayers() {
            const sortBy = document.getElementById('sort-by').value;
            currentSort = sortBy;
            
            filteredPlayers.sort((a, b) => {
                switch(sortBy) {
                    case 'score':
                        return b.score - a.score;
                    case 'score-asc':
                        return a.score - b.score;
                    case 'bosses':
                        return b.bosses - a.bosses;
                    case 'events':
                        return b.events - a.events;
                    case 'deaths':
                        return a.deaths - b.deaths;
                    case 'avls':
                        return b.avls - a.avls;
                    case 'winrate':
                        return b.winRate - a.winRate;
                    default:
                        return b.score - a.score;
                }
            });
            
            currentPage = 1;
            renderTable();
        }

        // Filtrar por classe
        function filterByClass() {
            currentClassFilter = document.getElementById('class-filter').value;
            applyFilters();
        }

        // Buscar jogadores
        function searchPlayers() {
            currentSearch = document.getElementById('search-input').value.toLowerCase();
            applyFilters();
        }

        // Aplicar todos os filtros
        function applyFilters() {
            filteredPlayers = allPlayers.filter(player => {
                // Filtro de classe
                if (currentClassFilter !== 'all' && player.class.id !== currentClassFilter) {
                    return false;
                }
                
                // Filtro de busca
                if (currentSearch && !(
                    player.name.toLowerCase().includes(currentSearch) ||
                    player.alias.toLowerCase().includes(currentSearch) ||
                    player.class.name.toLowerCase().includes(currentSearch)
                )) {
                    return false;
                }
                
                return true;
            });
            
            sortPlayers();
        }

        // Resetar busca
        function resetSearch() {
            document.getElementById('search-input').value = '';
            currentSearch = '';
            document.getElementById('class-filter').value = 'all';
            currentClassFilter = 'all';
            applyFilters();
        }

        // Renderizar tabela
        function renderTable() {
            const startIndex = (currentPage - 1) * playersPerPage;
            const endIndex = startIndex + playersPerPage;
            const pagePlayers = filteredPlayers.slice(startIndex, endIndex);
            const tableBody = document.getElementById('ranking-body');
            
            if (pagePlayers.length === 0) {
                tableBody.innerHTML = `
                    <tr>
                        <td colspan="9" style="text-align: center; padding: 40px; color: #666;">
                            Nenhum jogador encontrado com os filtros atuais
                        </td>
                    </tr>
                `;
                renderPagination();
                return;
            }
            
            let html = '';
            
            pagePlayers.forEach((player, index) => {
                const globalRank = startIndex + index + 1;
                const rankClass = globalRank === 1 ? 'rank-1' : 
                                 globalRank === 2 ? 'rank-2' : 
                                 globalRank === 3 ? 'rank-3' : '';
                
                html += `
                    <tr onclick="selectPlayer(${player.id})" ${selectedPlayer && selectedPlayer.id === player.id ? 'style="background: rgba(255, 107, 107, 0.2);"' : ''}>
                        <td class="rank-cell ${rankClass}">${globalRank}</td>
                        <td class="player-info-cell">
                            <div class="player-header">
                                <div class="player-avatar" style="background: ${player.class.color}">
                                    ${player.name.charAt(0)}
                                </div>
                                <div class="player-details">
                                    <div class="player-name">
                                        <span class="status-indicator status-${player.status.id}"></span>
                                        ${player.name}
                                    </div>
                                    <div class="player-class">${player.class.name}</div>
                                    <div class="player-alias">"${player.alias}"</div>
                                </div>
                            </div>
                        </td>
                        <td class="stat-column score-cell" data-tooltip="${formatNumber(player.score)} pontos">
                            ${formatNumber(player.score)}
                        </td>
                        <td class="stat-column bosses-cell" data-tooltip="${player.bosses} chefes derrotados">
                            ${player.bosses}
                        </td>
                        <td class="stat-column events-cell" data-tooltip="${formatNumber(player.events)} eventos sobrevividos">
                            ${formatNumber(player.events)}
                        </td>
                        <td class="stat-column deaths-cell" data-tooltip="${player.deaths} mortes">
                            ${player.deaths}
                        </td>
                        <td class="stat-column avls-cell" data-tooltip="${player.avls} AVLs completadas">
                            ${player.avls}
                        </td>
                        <td class="stat-column sanidade-cell" data-tooltip="Sanidade: ${player.sanidade}/100">
                            ${player.sanidade}%
                        </td>
                        <td class="stat-column taxa-vitoria-cell" data-tooltip="Taxa de vit√≥ria: ${player.winRate}%">
                            ${player.winRate}%
                        </td>
                    </tr>
                `;
            });
            
            tableBody.innerHTML = html;
            renderPagination();
            
            // Se houver um jogador selecionado, atualizar detalhes
            if (selectedPlayer) {
                updatePlayerDetails(selectedPlayer);
            }
        }

        // Selecionar jogador
        function selectPlayer(playerId) {
            selectedPlayer = allPlayers.find(p => p.id === playerId);
            renderTable();
            updatePlayerDetails(selectedPlayer);
        }

        // Atualizar detalhes do jogador
        function updatePlayerDetails(player) {
            const detailsContainer = document.getElementById('player-details');
            
            // Calcular m√©dias para barras de progresso
            const maxScore = Math.max(...allPlayers.map(p => p.score));
            const maxEvents = Math.max(...allPlayers.map(p => p.events));
            const maxBosses = Math.max(...allPlayers.map(p => p.bosses));
            
            const scorePercent = (player.score / maxScore * 100).toFixed(1);
            const eventsPercent = (player.events / maxEvents * 100).toFixed(1);
            const bossesPercent = (player.bosses / maxBosses * 100).toFixed(1);
            const winRatePercent = player.winRate;
            const sanidadePercent = player.sanidade;
            
            detailsContainer.innerHTML = `
                <div class="player-detail-card">
                    <div class="detail-avatar" style="background: ${player.class.color}">
                        ${player.name.charAt(0)}
                    </div>
                    <div class="detail-name">${player.name}</div>
                    <div class="detail-class">${player.class.name} - N√≠vel ${player.level}</div>
                    <div class="detail-alias">"${player.alias}"</div>
                    
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-label-sm">Status</div>
                            <div class="stat-value-sm" style="color: ${player.status.color}">
                                ${player.status.name}
                            </div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label-sm">Tempo de Jogo</div>
                            <div class="stat-value-sm">${player.playtime}h</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label-sm">Entrou em</div>
                            <div class="stat-value-sm">${player.joinDate}</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label-sm">√öltima Atividade</div>
                            <div class="stat-value-sm">${player.lastActive}</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label-sm">Conquistas</div>
                            <div class="stat-value-sm">${player.achievements}</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label-sm">Status Geral</div>
                            <div class="stat-value-sm" style="color: ${player.winRate > 60 ? '#43e97b' : player.winRate > 40 ? '#ffd166' : '#ff6b6b'}">
                                ${player.winRate > 60 ? 'Lend√°rio' : player.winRate > 40 ? 'Veterano' : 'Iniciante'}
                            </div>
                        </div>
                    </div>
                    
                    <div class="progress-section">
                        <div class="progress-item">
                            <div class="progress-label">
                                <span>Pontua√ß√£o</span>
                                <span>${formatNumber(player.score)}</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: ${scorePercent}%"></div>
                            </div>
                        </div>
                        <div class="progress-item">
                            <div class="progress-label">
                                <span>Taxa de Vit√≥ria</span>
                                <span>${player.winRate}%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: ${winRatePercent}%"></div>
                            </div>
                        </div>
                        <div class="progress-item">
                            <div class="progress-label">
                                <span>Eventos</span>
                                <span>${formatNumber(player.events)}</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: ${eventsPercent}%"></div>
                            </div>
                        </div>
                        <div class="progress-item">
                            <div class="progress-label">
                                <span>Chefes</span>
                                <span>${player.bosses}</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: ${bossesPercent}%"></div>
                            </div>
                        </div>
                        <div class="progress-item">
                            <div class="progress-label">
                                <span>Sanidade</span>
                                <span>${player.sanidade}%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: ${sanidadePercent}%"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="equipment-section">
                        <div class="section-title" style="font-size: 1.2rem; margin-bottom: 15px;">EQUIPAMENTO</div>
                        <div class="equipment-grid">
                            <div class="equipment-item">
                                <div class="equipment-name">${player.equipment.mainHand.name}</div>
                                <div class="equipment-damage">‚öîÔ∏è Dano: ${player.equipment.mainHand.damage}</div>
                            </div>
                            ${player.equipment.offHand ? `
                            <div class="equipment-item">
                                <div class="equipment-name">${player.equipment.offHand.name}</div>
                                <div class="equipment-damage">‚öîÔ∏è Dano: ${player.equipment.offHand.damage}</div>
                            </div>
                            ` : ''}
                            <div class="equipment-item">
                                <div class="equipment-name">${player.equipment.armor}</div>
                                <div class="equipment-damage">üõ°Ô∏è Armadura</div>
                            </div>
                            <div class="equipment-item">
                                <div class="equipment-name">Atributos</div>
                                <div class="equipment-damage">
                                    üí™ ${player.stats.strength} | üèÉ ${player.stats.agility}<br>
                                    üß† ${player.stats.intelligence} | ‚ù§Ô∏è ${player.stats.vitality}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // Renderizar pagina√ß√£o
        function renderPagination() {
            const totalPages = Math.ceil(filteredPlayers.length / playersPerPage);
            const pagination = document.getElementById('pagination');
            
            if (totalPages <= 1) {
                pagination.innerHTML = '';
                return;
            }
            
            let html = '';
            
            // Bot√£o anterior
            html += `<button class="page-btn" ${currentPage === 1 ? 'disabled' : ''} onclick="goToPage(${currentPage - 1})">‚Üê</button>`;
            
            // P√°ginas
            const maxVisiblePages = 5;
            let startPage = Math.max(1, currentPage - Math.floor(maxVisiblePages / 2));
            let endPage = Math.min(totalPages, startPage + maxVisiblePages - 1);
            
            if (endPage - startPage + 1 < maxVisiblePages) {
                startPage = Math.max(1, endPage - maxVisiblePages + 1);
            }
            
            for (let i = startPage; i <= endPage; i++) {
                html += `<button class="page-btn ${i === currentPage ? 'active' : ''}" onclick="goToPage(${i})">${i}</button>`;
            }
            
            // Bot√£o pr√≥ximo
            html += `<button class="page-btn" ${currentPage === totalPages ? 'disabled' : ''} onclick="goToPage(${currentPage + 1})">‚Üí</button>`;
            
            // Contador de resultados
            const startResult = (currentPage - 1) * playersPerPage + 1;
            const endResult = Math.min(currentPage * playersPerPage, filteredPlayers.length);
            html += `<div style="margin-left: auto; color: #aaa; font-size: 0.9rem; display: flex; align-items: center;">
                        ${startResult}-${endResult} de ${filteredPlayers.length}
                    </div>`;
            
            pagination.innerHTML = html;
        }

        // Ir para p√°gina
        function goToPage(page) {
            currentPage = page;
            renderTable();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Atualizar dados
        function refreshData() {
            const btn = event.target;
            const originalText = btn.innerHTML;
            btn.innerHTML = 'üîÑ Atualizando...';
            btn.disabled = true;
            
            setTimeout(() => {
                // Atualizar status de alguns jogadores
                allPlayers.forEach(player => {
                    if (Math.random() > 0.7) {
                        player.status = statusTypes[Math.floor(Math.random() * statusTypes.length)];
                    }
                    
                    // Pequenas varia√ß√µes nas estat√≠sticas
                    player.score += Math.floor(Math.random() * 200 - 100);
                    player.bosses += Math.floor(Math.random() * 2);
                    player.events += Math.floor(Math.random() * 10 - 5);
                    player.winRate = Math.max(10, Math.min(95, player.winRate + Math.floor(Math.random() * 6 - 3)));
                    player.sanidade = Math.max(0, Math.min(100, player.sanidade + Math.floor(Math.random() * 20 - 10)));
                    player.playtime += Math.floor(Math.random() * 5);
                });
                
                // Reordenar
                sortPlayers();
                updateStatsOverview();
                
                btn.innerHTML = originalText;
                btn.disabled = false;
                
                showNotification('Dados atualizados com sucesso!', 'success');
            }, 1500);
        }

        function showNotification(message, type) {
            const oldNotif = document.querySelector('.notification');
            if (oldNotif) oldNotif.remove();
            
            const notif = document.createElement('div');
            notif.className = 'notification';
            notif.textContent = message;
            notif.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? '#43e97b' : '#ff6b6b'};
                color: white;
                padding: 15px 25px;
                border-radius: 8px;
                z-index: 1000;
                animation: slideIn 0.3s ease-out;
                box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            `;
            
            document.body.appendChild(notif);
            
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideIn {
                    from { transform: translateX(100%); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
                @keyframes slideOut {
                    from { transform: translateX(0); opacity: 1; }
                    to { transform: translateX(100%); opacity: 0; }
                }
            `;
            document.head.appendChild(style);
            
            // Remover ap√≥s 3 segundos
            setTimeout(() => {
                notif.style.animation = 'slideOut 0.3s ease-out';
                setTimeout(() => notif.remove(), 300);
            }, 3000);
        }
    </script>
</body>
</html>